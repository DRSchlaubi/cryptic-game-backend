plugins {
    id 'java'
    id 'application'
    id 'io.freefair.aggregate-javadoc' version '5.0.0-rc2'
}

group 'net.cryptic-game'
version '0.3.0'

application {
    mainClassName = ""
}

subprojects {
    version project.parent.version
    sourceCompatibility = targetCompatibility = 1.11

    repositories {
        mavenCentral()
    }
}

task cleanDocs(type: Delete) {
    delete "$projectDir/docs/javadoc/$version/"
    delete "$projectDir/docs/javadoc/latest/"
}

task createDocs(type: Copy, dependsOn: cleanDocs) {
    def docs = file("$project.buildDir/docs/javadoc/")
    into "$projectDir/docs/javadoc/"

    from(docs) {
        into "$version/"
    }
    from(docs) {
        into "latest/"
    }
}
